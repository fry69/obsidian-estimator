<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Obsidian Release PR Queue Status</title>
    <style>
      html,
      body {
        background-color: #020617;
      }
    </style>
    <!-- Preload theme classes and background to avoid white FOUC before React mounts -->
    <script>
      (() => {
        const storageKey = "theme";
        const root = document.documentElement;
        const prefersDark = window.matchMedia?.("(prefers-color-scheme: dark)")
          .matches;
        let storedTheme = null;

        try {
          const raw = window.localStorage.getItem(storageKey);
          if (raw !== null) {
            storedTheme = JSON.parse(raw);
          }
        } catch (error) {
          console.warn("[Theme] Failed to read stored theme", error);
        }

        const theme = storedTheme === "dark" || storedTheme === "light"
          ? storedTheme
          : prefersDark
            ? "dark"
            : "light";

        const fallbackBackground = "#020617";

        const removeTheme = theme === "dark" ? "light" : "dark";
        root.classList.remove(removeTheme);
        root.classList.add(theme);
        root.style.colorScheme = theme;
        root.style.backgroundColor = fallbackBackground;

        const applyBodyBackground = () => {
          if (document.body) {
            document.body.style.backgroundColor = fallbackBackground;
          }
        };

        if (document.readyState === "loading") {
          document.addEventListener("DOMContentLoaded", applyBodyBackground, {
            once: true,
          });
        } else {
          applyBodyBackground();
        }
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
